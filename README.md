# SmartWaterControl
Cистема автоматизированного контроля уровня воды и управления насосом для больших ёмкостей.
## Цель проекта
Обеспечить бесперебойную подачу воды в емкости большого объема (от 5 м³ до цистерн вагона) через автоматическое включение/выключение насоса в зависимости от уровня воды.

Проблемы, которые решает:
- Исключение переполнения бочек;
- Предотвращение работы насоса «всухую»;
- Уменьшение ручного контроля и затрат времени.

## Краткое описание функционала

- Измерение уровня воды в бочках с помощью ультразвукового датчика JSN-SR04T или HC-SR04.
- Передача данных на второй модуль через радиоканал LoRa (~50 м).
- Управление насосом через реле (включение/выключение).
- Уведомления о текущем уровне воды и состоянии насоса через Telegram-бот.

## Список аналогичных проектов

- Arduino Water Level Controller.

## Планируемые пользователи / сценарии применения

- В нашем случае СНТ, где есть несколько огромных ёмкостей, которые нужны для полива огорода садоводам в летний период;
- Владельцы частных домов с большими резервуарами воды;
- Фермерские хозяйства;
- Объекты с накопительными бочками, где требуется автоматическое управление насосом.
## План работ (Roadmap)
### Основные задачи

1. Подбор и закупка компонентов.
2. Сборка и тестирование первого модуля (контроль уровня воды, отправка сигнала).
3. Сборка и тестирование второго модуля (принятие и обработка сигнала).
4. Разработка логики включения/выключения насоса.
5. Настройка передачи данных на Telegram-бота.
6. Интеграция и тестирование полной системы.
7. Подготовка отчета и презентации.

### Этапы выполнения (приблизительно)
- 1–2 неделя — Закупка компонентов, сборка первого модуля
- 3–4 — Разработка кода для первого модуля, тест модуля
- 5–6 — Сборка второго модуля
- 7–8 — Интеграция модулей, ???тестирование???
- 9 неделя — Отладка логики включения/выключения насоса
- 10 неделя — Проверка удаленного доступа через Telegram
- 11 неделя	— Финальные испытания, исправление багов
- 12 неделя — Подготовка презентации и отчета
  
## Минимальный функционал

- Первый модуль измеряет уровень воды в одной бочке и передает данные второму модулю.
- Второй модуль управляет насосом через реле по пороговым значениям.
- Telegram-бот отправляет уведомления о состоянии воды и насоса.
  
## Техническая часть

Среда разработки Arduino IDE
Простота в использовании, поддержка ESP32 и совместимых плат. Возможность интеграции всех библиотек в этом проекте.

### Библиотеки
- UniversalTelegramBot — работаем напрямую с Telegram API через Wi-Fi модуль на ESP, Telegram используем, чтобы не создавать отдельный сервер.
- Библиотека LoRa.h для связи модулей ESP32
- !!Остальные библиотеки будут дописаны!!

## Детали для проекта
1. ESP32; Модуль ESP32 TYPE-C CH340C, Wi-Fi + Bluetooth — В количестве 2 штук (1 на первый модуль, 1 на второй модуль) 
2. Модуль DRF1278F LoRa 433МГц на базе SX1278 Трансивер  — В количестве 2 штук
### Первый модуль
- Датчик (выключатель) уровня воды, поплавковый 2 шт.
- Провод соединительный ПВС REXANT 2x0,75 мм2, черный, длина 5 метров, ГОСТ для удлинения поплавков и соединения модулей
- Водонепроницаемый корпус IP65 для электрооборудования, ABS пластик, 200x120x75мм, для промышленных и строительных объектов
### Второй модуль
- Модуль реле 5 вольт 10А 1 канал электромеханическое для проектов Ардуино, одноканальный, релейный модуль 5V/ Arduino 1 шт.

